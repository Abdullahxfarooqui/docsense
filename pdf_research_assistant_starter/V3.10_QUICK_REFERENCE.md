# V3.10 QUICK REFERENCE CARD

## 🎯 THE ONLY 4 VALID ENTITIES
```
TAIMUR, LPG, CONDEN, OIL
```

## 🚫 IGNORE THESE (NOISE)
```
DATA, DAPI, FIXED, SALES, STORAGE, DELIVERY, DELIVER
TANK, LOA, LOAD, PUBLISH, NULL, BBL, DATE, TIME
TOTAL, SUM, AVERAGE, AVG, COUNT
```

## 📊 THE ONLY 5 PARAMETERS
```
1. Pressure    → psig
2. Temperature → °F
3. Volume      → bbl
4. API Gravity → dAPI
5. Ticket      → (no unit)
```

## ✅ CORRECT OUTPUT (ONLY THIS)
```markdown
| Entity | Pressure | Temperature | Volume | API Gravity | Ticket | Notes |
|--------|----------|-------------|--------|-------------|--------|-------|
| TAIMUR | 6 psig | 301.925 °F | 327.07 bbl | 60 dAPI | 77826136 | Explicit |
| LPG | 0 psig | 301.911 °F | 628.981 bbl | — | d10591d | Explicit |
| CONDEN | 0 psig | 302 °F | 0 bbl | 55 dAPI | f7f6faf7f | Explicit |
| OIL | — | 314.49 °F | — | — | — | — |
```

## ❌ NEVER DO THESE
- ❌ NO intros ("Based on the document...")
- ❌ NO summaries ("In summary...")
- ❌ NO explanations (any paragraph)
- ❌ NO text before table
- ❌ NO text after table
- ❌ NO placeholder names (Source 1, Sheet1, Entity A)
- ❌ NO invalid entities (SALES, STORAGE, LOA, TANK)
- ❌ NO stopping after first parameter

## ✅ MANDATORY CHECKS
Before outputting, verify:
- [ ] First character is `|`
- [ ] 4 entities: TAIMUR, LPG, CONDEN, OIL
- [ ] 5 parameters: Pressure, Temperature, Volume, API, Ticket
- [ ] Units: psig, °F, bbl, dAPI
- [ ] Missing = `—` (not null)
- [ ] Zero prose

## 🧪 TEST QUERY
```
Show all parameters for each entity
```

## 📈 VERSION HISTORY
- V3.0: ChromaDB fault tolerance
- V3.6: Intent detection fix
- V3.7: Entity extraction
- V3.8: Zero-prose enforcement
- V3.8.1: No placeholder rows
- V3.8.2: Extract all parameters
- V3.9: Proximity enforcement
- V3.9.1: Entity filtering
- V3.9.2: Value filtering
- **V3.10: Ruthless extraction** ← CURRENT

## 🔧 FILES MODIFIED
- `document_mode.py` (lines 823-870): New system prompt
- `entity_extractor.py` (lines 30-68): Entity filtering
- `entity_extractor.py` (lines 443-450): Value validation

## 📝 DOCUMENTATION
- `V3.10_RUTHLESS_EXTRACTION.md` - Complete guide
- `V3.10_QUICK_REFERENCE.md` - This file

---

**STATUS**: ✅ ACTIVE  
**URL**: http://localhost:8501  
**DATE**: October 27, 2025
